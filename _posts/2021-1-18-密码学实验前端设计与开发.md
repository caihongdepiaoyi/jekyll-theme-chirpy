---
title: 密码学实验前端设计与开发
categories: [总目录, 前端]
tags: [electron]
---

上学期的密码学实验的期末大作业需要做一个RSA算法的加解密工具，就是说输入一个文件，返回该文件的加密文件以及公钥私钥，然后利用密钥能够对加密文件进行解密，而且需要具有一个界面，索性就学习了一手electron，分享一下整体的设计与实现及代码

# 界面概要设计

![1](https://s3.ax1x.com/2021/01/19/s2NqmD.png)

# Electron

Electron是一个实时框架，允许使用HTML5，CSS和JavaScript创建桌面应用程序。

Electron读取package.json文件中的main条目决定哪一个文件作为主进程，一个主进程可以生成多个渲染进程

假如渲染进程需要访问操作系统级别的接口，渲染进程需要和主进程进行通讯。

Main.js为主进程，renderer.js为渲染进程，index.html为主界面，style.css为主界面样式

NavBar.js为侧边导航栏渲染进程，images存储一些需要使用到的图片资源

### 主进程

主进程有几个重要的职责。它可以响应应用程序生命周期事件，例如启动、退出、准备退出、后台调用、前台跳转、等等。主过程也负责与本机操作系统接口通信。如果你想要显示对话框去打开或者保存文件，可以从主进程中执行。

主进程可以使用Electron浏览器窗口模块创建和销毁渲染器进程，渲染进程可以加载web页面来显示用户界面。每一个进程利用Chromium的多进程架构，并在自己的线程上运行，然后，这些页面可以加载其他JavaScript文件并在此进程中执行代码。与普通web页面不同，你可以在自己的渲染进程中，访问所有Node APIs，允许使用本机模块和较低级别的系统交互。

每个渲染进程都是独立的，无法访问操作系统集成的接口。如果需要触发打开或保存文件对话框或访问任何其他操作系统集成。其对应的渲染进程必须与主进程进行通讯。

# 实现

要做出这样的效果首先需要将页面边框去除，实现无边框窗口，然后自己手动画边框上去，并添加放大缩小关闭等事件到按钮上去即可，另外需要设置边框的拖动与否

BrowserWindow的options中将frame设置为 false，从而关闭原有边框

```javascript
frame:false
```

将整个页面分为topbar 和 content两部分

并将topbar设置为可拖拽，以及文字不可选择，作为应用的边框。

~~~html
style="-webkit-app-region: drag;-webkit-user-select: none;"
~~~

# 未完待续

………………